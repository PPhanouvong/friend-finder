<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Operator Finder</title>

    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>

<body>

    <div class="container">

        <h2>Survey Questions</h2>
        <hr>

        <h3>About You</h3>
        <h4>Name (Required)</h4>
        <input type='text' name='' id='name' class='form-control' required>

        <h4>Link to Photo (Required)</h4>
        <input type='text' name='' id='photo' class='form-control' required>
        <hr>

        <div class='well' id='survey'>
            <h3 style="font-weight: bolder">Question 1</h3>
            <h4>When playing a First Person Shooter I like to rush in.</h4>
            <select data-placeholder='' class='chosen-select' id=q1>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 2</h3>
            <h4>I support my team by watching the flank.</h4>
            <select data-placeholder='' class='chosen-select' id=q2>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 3</h3>
            <h4>I prefer to get kills with gadgets rather then shooting.</h4>
            <select data-placeholder='' class='chosen-select' id=q3>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 4</h3>
            <h4>I support my team by being the protector/shield.</h4>
            <select data-placeholder='' class='chosen-select' id=q4>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 5</h3>
            <h4>I like to learn about the enemy before facing them.</h4>
            <select data-placeholder='' class='chosen-select' id=q5>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>
            <h3 style="font-weight: bolder">Question 6</h3>
            <h4>I like to take the lead.</h4>
            <select data-placeholder='' class='chosen-select' id=q6>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 7</h3>
            <h4>I can shoot well in a FPS.</h4>
            <select data-placeholder='' class='chosen-select' id=q7>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 8</h3>
            <h4>I enjoy being the playmaker in an FPS.</h4>
            <select data-placeholder='' class='chosen-select' id=q8>
                <h4>I enjoy being the playmaker in an FPS.</h4>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 9</h3>
            <h4>Shooting isn't my strong-point but I like being in the fight.</h4>
            <select data-placeholder='' class='chosen-select' id=q9>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>

            <h3 style="font-weight: bolder">Question 10</h3>
            <h4>I like to keep my distance in an FPS.</h4>
            <select data-placeholder='' class='chosen-select' id=q10>
                <option value=''></option>
                <option value='1'>1 (Strongly Disagree)</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 (Strongly Agree)</option>
            </select>
            <br>
            <br>

            <button type="submit" class="btn btn-primary btn-lg btn-block" id="submits">Submit</button>
            <hr>

            <footer class='footer'>

                <div class='container'>
                    <p>
                        <a href='/api/friends'>API Operator List</a> |
                        <a href='https://github.com/PPhanouvong/friend-finder'>GitHub Repo
                    </p>
                </div>
            </footer>
        </div>
    </div>

    <!-- Modal after survey completion -->
    <div id="bestFriendModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">Your Operator Match!</h1>
                </div>
                <div class="modal-body">
                    <h2 id="bestFriend"></h2>
                    <img style="width: 100%; height: auto;" id="bestFriendPhoto" src="#">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="push"></div>
    </div>

    <script type="text/javascript">
        $('#submits').on('click', function (event) {
            var newOperator = {
                name: $('#name').val().trim(),
                photo: $('#photo').val().trim(),
                score: [$('#q1').val(), $('#q2').val(), $('#q3').val(), $('#q4').val(), $('#q5').val(), $('#q6').val(), $('#q7').val(), $('#q8').val(), $('#q9').val(), $('#q10').val()]
            };
            console.log(newOperator);

            // var currentURL = window.location.origin;
            $.post("/api/friends", newOperator, function (data) {
                $("#bestFriend").text(data.name);
                $("#bestFriendPhoto").attr("src", data.photo);
                $("#bestFriendModal").modal("toggle");
            console.log(data);
            });
        
        })
 
    </script>
</body>

</html>